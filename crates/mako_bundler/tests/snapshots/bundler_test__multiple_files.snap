---
source: crates/mako_bundler/tests/bundler_test.rs
expression: test_files(files)
---
[
    "\nconst modules = new Map();\nconst define = (name, moduleFactory) => {\n  modules.set(name, moduleFactory);\n};\n\nconst moduleCache = new Map();\nconst requireModule = (name) => {\n  if (moduleCache.has(name)) {\n    return moduleCache.get(name).exports;\n  }\n\n  if (!modules.has(name)) {\n    throw new Error(`Module '${name}' does not exist.`);\n  }\n\n  const moduleFactory = modules.get(name);\n  const module = {\n    exports: {},\n  };\n  moduleCache.set(name, module);\n  moduleFactory(module, module.exports, requireModule);\n  return module.exports;\n};\n        ",
    "define(\"/tmp/entry.js\", function(module, exports, require) {\n\"use strict\";\nvar _three = require(\"/tmp/three.js\");\nvar _one = require(\"/tmp/one.js\");\nvar _two = require(\"/tmp/two.js\");\nconsole.log(0, _one.one());\n});",
    "define(\"/tmp/three.js\", function(module, exports, require) {\n\"use strict\";\nObject.defineProperty(exports, \"three\", {\n    enumerable: true,\n    get: function() {\n        return three;\n    }\n});\nfunction three() {\n    return 123;\n}\n});",
    "define(\"/tmp/one.js\", function(module, exports, require) {\n\"use strict\";\nObject.defineProperty(exports, \"one\", {\n    enumerable: true,\n    get: function() {\n        return one;\n    }\n});\nvar _two = require(\"/tmp/two.js\");\nfunction one() {\n    return 0, _two.two();\n}\n});",
    "define(\"/tmp/two.js\", function(module, exports, require) {\n\"use strict\";\nObject.defineProperty(exports, \"two\", {\n    enumerable: true,\n    get: function() {\n        return two;\n    }\n});\nfunction two() {\n    return 123;\n}\n});",
    "\nrequireModule(\"/tmp/entry.js\");",
]
