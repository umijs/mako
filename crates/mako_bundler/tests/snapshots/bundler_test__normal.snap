---
source: crates/mako_bundler/tests/bundler_test.rs
expression: "generate_result.output_files[0].__output"
---
[
    "\nconst modules = new Map();\nconst define = (name, moduleFactory) => {\n  modules.set(name, moduleFactory);\n};\n\nconst moduleCache = new Map();\nconst requireModule = (name) => {\n  if (moduleCache.has(name)) {\n    return moduleCache.get(name).exports;\n  }\n\n  if (!modules.has(name)) {\n    throw new Error(`Module '${name}' does not exist.`);\n  }\n\n  const moduleFactory = modules.get(name);\n  const module = {\n    exports: {},\n  };\n  moduleCache.set(name, module);\n  moduleFactory(module, module.exports, requireModule);\n  return module.exports;\n};\n        ",
    "define(\"/tmp/entry.js\", function(module, exports, require) {\n\"use strict\";\nvar _foo = require(\"/tmp/foo.js\");\nconsole.log(0, _foo.fn());\n});",
    "define(\"/tmp/foo.js\", function(module, exports, require) {\n\"use strict\";\nObject.defineProperty(exports, \"fn\", {\n    enumerable: true,\n    get: function() {\n        return fn;\n    }\n});\nfunction fn() {\n    return 123;\n}\n});",
    "\nrequireModule(\"/tmp/entry.js\");",
]
